     <!doctype html>
     <html lang="en">
     <head>
     <meta charset="utf-8">
     <title>Hotspot Model</title>
     <script src="libs/dat.gui.min.js"></script>
	 <script src="https://use.fontawesome.com/releases/v6.2.0/js/all.js" crossorigin="anonymous"></script>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>

	 <link href="assets/css/pagestyle.css" rel="stylesheet">
	 <link href="assets/css/dat-gui-light-style.css" rel="stylesheet"/>
	 <link rel="shortcut icon" href="assets/favicon.png" type="image/png">
     <style>
	 
	
	
	
	.switch {
  position: relative;
  display: inline-block;
  width: 48px;
  height: 22px;
}

.switch input {
  display: none;
}

.slider-1 {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider-1:before {
  position: absolute;
  content: "";
  height: 14px;
  width: 14px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked+.slider-1 {
  background-color: #2196F3;
}

input:focus+.slider-1 {
  box-shadow: 0 0 1px #2196F3;
}

input:checked+.slider-1:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}


/* Rounded sliders */

.slider-1.round {
  border-radius: 34px;
}

.slider-1.round:before {
  border-radius: 50%;
}
	

	
	 
	         #mySectionPlanesOverviewCanvas {
            position: absolute;
            width: 220px;
            height: 220px;
            bottom: 0px;
            right: 220px;
            z-index: 0;
        }
	 
	 
       .annotation-marker {
            color: black;
            text-align: center;
            font-weight: bold;
			font: Poppins;
            position: absolute;
            width: 25px;
            height: 25px;
            border-radius: 15px;
            border: 2px solid red;
            background: black;
            visibility: hidden;
            box-shadow: 5px 5px 15px 1px #000000;
            z-index: 0;
        }

        .annotation-label {
            position: absolute;
            max-width: 450px;
            min-height: 50px;
            padding: 8px;
            padding-left: 12px;
            padding-right: 12px;
            background: #ffffff;
            color: #000000;
            -webkit-border-radius: 3px;
            -moz-border-radius: 3px;
            border-radius: 8px;
            border: #ffffff solid 2px;
            box-shadow: 5px 5px 15px 1px #000000;
            z-index: 90000;
        }

        .annotation-label:after {
            content: '';
            position: absolute;
            border-style: solid;
            border-width: 5px 8px 5px 0;
            border-color: transparent white;
            display: block;
            width: 0;
            z-index: 1;
            margin-top: -11px;
            left: -12px;
            top: 20px;
        }

        .annotation-label:before {
            content: '';
            position: absolute;
            border-style: solid;
            border-width: 9px 13px 9px 0;
            border-color: transparent #ffffff;
            display: block;
            width: 0;
            z-index: 0;
            margin-top: -12px;
            left: -15px;
            top: 20px;
        }

        .annotation-title {
            font: normal 20px arial;
            margin-bottom: 8px;
        }

        .annotation-desc {
            font: normal 14px arial;
        }
		

     </style>
     </head>

     <body>
     <input type="checkbox" id="info-button"/>
     <label for="info-button" class="info-button"><span style="color: white"><i class="fas fa-lg fa-bars white-50"></i></span></label>
     <input type="checkbox" id="info-button-2"/>
     <label for="info-button-2" class="info-button-2"><span style="color: white"><i class="fas fa-lg fa-toolbox white-50"></i></span></label>
     <input type="checkbox" id="info-button-3"/>
     <label for="info-button-3" class="info-button-3"><span style="color: white"><i class="fas fa-lg fa-layer-group white-50"></i></span></label>
     <input type="checkbox" id="info-button-4"/>
     <label for="info-button-4" class="info-button-4"><span style="color: white"><i class="fas fa-lg fa-cube white-50"></i></span></label>
	 <input type="checkbox" id="info-button-6"/>
     <label for="info-button-6" class="info-button-6"><span style="color: white"><i class="fas fa-lg fa-envelope white-50"></i></span></label>
     <canvas id="myCanvas"></canvas>
	 
	 <canvas id="mySectionPlanesOverviewCanvas"></canvas>
	 <div class="spinner-page"></div>
     <canvas id="myNavCubeCanvas"></canvas>
     <canvas id="myAxisGizmoCanvas"></canvas>
     <div id="treeViewContainer">
     <h1>ARK-BIM &nbsp Hotspot Model</h1>
	 &nbsp
	 &nbsp
     </div>
     <div id="xeokit-context-menu"></div>

     <!-- info / settings -->

     <div class="slideout-sidebar" id="btn-group">
     <h1 style="color: #fff">ARK-BIM Info</h1>
	 &nbsp
     <button id="myBtn" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-info-circle fa-lg"> </i></span>
	 &nbsp Info</button>
	 &nbsp
	 <button style="text-align: left" onclick="location.href='https://ark-bim.github.io/'">
     <span style="color: #fff"> <i class="fas fa-globe-americas fa-lg"></i>
	 </span> 
	 &nbsp ARK-BIM website</button>
	 &nbsp
	 &nbsp
	 &nbsp
	 &nbsp
	 
     <button style="text-align: left">
     <span style="color: #fff">
	 </span> 
	 &nbsp This model contains 3 Hotspot! </button>
	 

     </div>

     <!-- toolbox -->

     <div class="slideout-sidebar-2" id="btn-group">
	 &nbsp
     <h1 style="color: #fff">Toolbox</h1>
	 &nbsp
 
	 <button id="ortho" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-cube fa-lg"></i>
	 </span> 
	 &nbsp Orthographic </button>
	
	 <button  id="perspective" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-cube fa-lg"></i>
	 </span> 
	 &nbsp Perspective </button>
	 
	 <button  id="first" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-cube fa-lg"></i>
	 </span> 
	 &nbsp First person </button>
	 
	 	 &nbsp
	 <button id="view" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-eye fa-lg"></i>
	 </span> 
	 &nbsp Reset view</button>
	 
	 &nbsp
	 <button id="reload" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-sync-alt fa-lg"></i>
	 </span> 
	 &nbsp Reload Model</button>
	 

	
     </div>


     <!-- Isolate elements -->

     <div class="slideout-sidebar-3" id="btn-group">
	 &nbsp
	 <h1 style="color: #fff">Isolate Elements</h1>
	 &nbsp
	
	 <button id="beam" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Beams </button>
	
	 <button id="element" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Building Elements </button>
	
	 <button id="column" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Columns </button>
	
	 <button id="covering" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
     </span> 
     &nbsp Coverings </button>
	
	 <button id="door" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Doors </button>
	
	 <button id="footing" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Footings </button>
	
	 <button id="furnishing" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Furnishing Elements </button>
	
	 <button id="member" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Member </button>
	
     <button id="roof" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Roofs </button>
	
     <button id="slab" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Slabs </button>
	
	 <button id="stair" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Stairs </button>
	
	 <button id="storey" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Storeys </button>
	
	 <button id="wall" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Walls </button>
	
	 <button id="standardcase" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Wall Standard Case </button>
	
     <button id="window" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Windows </button>
	 
	 <button id="chimney" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Chimney </button>
	 
	 <button id="reinforcing" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-search fa-lg"></i>
	 </span> 
     &nbsp Reinforcing Bar </button>
	
	 &nbsp
	 <button id="reset" style="text-align: left">
     <span style="color: #fff"> <i class="fas fa-trash fa-lg"></i>
	 </span> 
     &nbsp Reset View </button>
     &nbsp
	
     </div>




     <!-- Scene and Camera settings -->

     <div class="slideout-sidebar-4" id="btn-group">
	 &nbsp
	 
	 <h1 style="color: #fff">Scene and Camera Settings</h1>


     <h2 style="color: #fff">Edges</h2>
     <label class="switch">
     <input id="toggle" type="checkbox" checked>
     <span class="slider-1 round"></span>
     </label>
     <br/>
	 
	 <h2 style="color: #fff">Ambient Occlusion (SAO)</h2>
     <label class="switch">
     <input id="toggle_1" type="checkbox" checked>
     <span class="slider-1 round"></span>
     </label>
     <br/>
	 
	 &nbsp
     <div id="myDatGuiContainer"></div>

     </div>
	 
	 
	 <!-- Support -->

     <div class="slideout-sidebar-6" id="btn-group">
     <h1 style="text-align: left; font-family: poppins">Support Request</h1>
	 &nbsp
	 <p style="text-align: left; font-family: poppins">Please use this module to send a support request about ARK-BIM</p>		
     <form id="form-1" name="simple-contact-form" accept-charset="utf-8" action="https://formspree.io/f/mgerlypo" method="post">
     <fieldset id="form-1-inputs">
     <label for="full-name">Name</label>
     <input type="text" name="name" id="full-name" placeholder="Your full name" required="">
     <label for="email-address">Email</label>
     <input type="email" name="_replyto" id="email-address" placeholder="Your email address" required="">
	 <label for="full-name">Your job</label>
     <input type="text" name="name" id="full-name" placeholder="Describe your job" required="">
     <label for="message">Message</label>
     <textarea rows="5" name="message" id="message" placeholder="Write here your message" required=""></textarea>
     <input type="hidden" name="_subject" id="email-subject" value="Contact Form Submission">
     </fieldset>
     <input type="submit" value="send request">
     </form>	
     </div>
   



     <!-- MODAL -->

     <div id="myModal" class="modal">
     <div class="modal-content">
     <span class="close">&times;</span>
	<h1> ARK-BIM Hotspot informative model</h1>
	<h3> Info </h3>
    <p>Through this simple tool you can investigate model information via numeric hotspots.</p>
	<p>version 2.0 © Filippo Diara - based on XEOKIT</p>
	<h3> How it works </h3>
	<p>Click on hotspots number and find out model information.</p>
	<h3> How to navigate the model</h3>
	<p> Mouse Left click: 360° orbit /// Mouse Right click: Axis Pan /// Mouse Wheel: Zoom</p>
  </div>



     </body>

     <script type="module">
	 
	 

	 
	//------------------------------------------------------------------------------------------------------------------
    // Spinner page 
    //------------------------------------------------------------------------------------------------------------------

	    $(window).load(function() {
		$(".spinner-page").fadeOut();;
	    });

	 
    //------------------------------------------------------------------------------------------------------------------
    // Libraries and scene setup
    //------------------------------------------------------------------------------------------------------------------

    import {utils, 
	        Viewer, 
			XKTLoaderPlugin, 
			TreeViewPlugin,
            ContextMenu,			
			Mesh, 
			buildGridGeometry, 
			PhongMaterial, 
			VBOGeometry, 
			DistanceMeasurementsPlugin,
            AngleMeasurementsPlugin,		
			AmbientLight, 
			DirLight, 
			NavCubePlugin,
			SectionPlanesPlugin, 
			math,
			AxisGizmoPlugin,
			AnnotationsPlugin,
			StoreyViewsPlugin,
			CameraMemento,
			} from "./dist/xeokit-sdk.es.js";

    import {
        XKTModel,
        parseIFCIntoXKTModel,
        writeXKTModelToArrayBuffer
    } from "./dist/xeokit-xkt-utils.es.js";

    import {signalTestComplete} from "./libs/utils.js";
	

    const viewer = new Viewer({
        canvasId: "myCanvas",
        transparent: true,
		antialias: true,
		pickable: true,
		saoEnabled: true,
		pickSurfacePrecisionEnabled: true,
    });
	
	   if (!viewer.scene.sao.supported) {
        document.getElementById("warningMessage").innerText = "SAO is not currently supported in this browser";
    }
	
	const cameraControl = viewer.cameraControl;
	const scene = viewer.scene;
    const cameraFlight = viewer.cameraFlight;
    const camera = scene.camera;
	const sao = scene.sao;
	
	sao.enabled = true;
	
	const xktLoader = new XKTLoaderPlugin(viewer);
    const xktModel = new XKTModel();
	
	

    //------------------------------------------------------------------------------------------------------------------
    // MODEL LOAD
    //------------------------------------------------------------------------------------------------------------------

    utils.loadArraybuffer("./assets/models/museo_x.ifc", async (data) => {

        parseIFCIntoXKTModel({data, xktModel, wasmPath: "./"})
            .then(() => {

                xktModel.finalize();

                const xktArrayBuffer = writeXKTModelToArrayBuffer(xktModel);

                const model = xktLoader.load({
                    id: "myModel",
                    xkt: xktArrayBuffer,
                    edges: true,
                    saoEnabled: true,
					excludeUnclassifiedObjects: false,
					pickable: true,
					backfaces: true
                });
			
                model.on("loaded", () => {

                    viewer.cameraFlight.jumpTo(model);
                    signalTestComplete();
					const cameraMemento = new CameraMemento();
                    cameraMemento.saveCamera(viewer.scene);
                });
				
            });
			
    });
	
	
	//------------------------------------------------------------------------------------------------------------------
    // Scene Visualization
    //------------------------------------------------------------------------------------------------------------------

    viewer.camera.eye = [-2.56, 8.38, 8.27];
    viewer.camera.look = [13.44, 3.31, -14.83];
    viewer.camera.up = [0.10, 0.98, -0.14];

    viewer.scene.xrayMaterial.fill = true;
    viewer.scene.xrayMaterial.fillAlpha = 0.1;
    viewer.scene.xrayMaterial.fillColor = [0, 0, 0];
    viewer.scene.xrayMaterial.edgeAlpha = 0.3;
    viewer.scene.xrayMaterial.edgeColor = [0, 0, 0];

    viewer.scene.highlightMaterial.fill = true;
    viewer.scene.highlightMaterial.edges = true;
    viewer.scene.highlightMaterial.fillAlpha = 0.1;
    viewer.scene.highlightMaterial.edgeAlpha = 0.1;
    viewer.scene.highlightMaterial.edgeColor = [1, 1, 0];

    viewer.scene.selectedMaterial.fill = true;
    viewer.scene.selectedMaterial.edges = true;
    viewer.scene.selectedMaterial.fillAlpha = 0.5;
    viewer.scene.selectedMaterial.edgeAlpha = 0.6;
    viewer.scene.selectedMaterial.edgeColor = [0, 1, 1];
	
    viewer.cameraControl.followPointer = true;
	

	
    //------------------------------------------------------------------------------------------------------------------
    // NAV CUBE
    //------------------------------------------------------------------------------------------------------------------

		new NavCubePlugin(viewer, {
        canvasId: "myNavCubeCanvas",
		visible: true,           // Initially visible (default)
        cameraFly: true,       // Fly camera to each selected axis/diagonal
        cameraFitFOV: 45,        // How much field-of-view the scene takes once camera has fitted it to view
        cameraFlyDuration: 0.5, // How long (in seconds) camera takes to fly to each new axis/diagonal
        color: "#888888",      // Default value
        frontColor: "#888888",
        backColor: "#888888",
        leftColor: "#888888",
        rightColor: "#888888",
        topColor: "#888888",
        bottomColor: "#888888",
        hoverColor: "#929292",
    });
	
	
	//------------------------------------------------------------------------------------------------------------------
    // Reload
    //------------------------------------------------------------------------------------------------------------------
	
	 document.getElementById("reload").onclick = function () {
     location.reload();         
     }
	 
	//------------------------------------------------------------------------------------------------------------------
    // Reset view
    //------------------------------------------------------------------------------------------------------------------
	 
	 document.getElementById("view").onclick = function () {
     viewer.cameraFlight.flyTo({ projection: 'perspective', duration: 1.0  });  
    
     }
	 
	//------------------------------------------------------------------------------------------------------------------
    // Ortho - perspective first person
    //------------------------------------------------------------------------------------------------------------------
	 
	 document.getElementById("ortho").onclick = function () {
     viewer.cameraFlight.flyTo({ projection: 'ortho', duration: 0.8  });  
     cameraControl.navMode = "orbit";
     cameraControl.followPointer = true;	 
     }
	 
	 document.getElementById("perspective").onclick = function () {
     viewer.cameraFlight.flyTo({ projection: 'perspective', duration: 0.8  }); 
     cameraControl.navMode = "orbit";
     cameraControl.followPointer = true;	 
     }
	 
	 document.getElementById("first").onclick = function () {
     cameraControl.navMode = "firstPerson";
     cameraControl.followPointer = true;     
     }
	 
	
	 
    //------------------------------------------------------------------------------------------------------------------
    // X-Y-Z AXIS
    //------------------------------------------------------------------------------------------------------------------
	
	    new AxisGizmoPlugin(viewer, {
        canvasId: "myAxisGizmoCanvas"
    });
	
	//------------------------------------------------------------------------------------------------------------------
    // Ambient light
    //------------------------------------------------------------------------------------------------------------------
	
	viewer.scene.clearLights();

     new AmbientLight(viewer.scene, {
     color: [0.8, 0.8, 0.8],
     intensity: 1.5
     });

     new DirLight(viewer.scene, {
     id: "keyLight",
     dir: [0.8, -0.6, -0.8],
     color: [-0.3, -0.3, -0.3],
     intensity: 1.4,
     space: "view"
     });

     new DirLight(viewer.scene, {
     id: "fillLight",
     dir: [-0.8, -0.4, -0.4],
     color: [-0.3, -0.3, -0.3],
     intensity: 0.2,
     space: "view"
     });

     new DirLight(viewer.scene, {
     id: "rimLight",
     dir: [0.2, -0.8, 0.8],
     color: [-0.6, -0.6, -0.6],
     intensity: 1,
     space: "view"
     });
	 
	
	
	//----------------------------------------------------------------------------------------------------------------------
    // Tree
    //----------------------------------------------------------------------------------------------------------------------

    const treeView = new TreeViewPlugin(viewer, {
        containerElement: document.getElementById("treeViewContainer"),
        autoExpandDepth: 1, // Initially expand tree three storeys deep
        hierarchy: "types", 
		sortNodes: true,
    });
	

	

	
	//------------------------------------------------------------------------------------------------------------------
    // Pick entities and colorize them
    //------------------------------------------------------------------------------------------------------------------

    var lastEntity = null;
    var lastColorize = null;

    viewer.cameraControl.on("picked", (pickResult) => {

        console.log(pickResult.entity.id);

        if (!lastEntity || pickResult.entity.id !== lastEntity.id) {
            if (lastEntity) {
                lastEntity.colorize = lastColorize;
            }

            lastEntity = pickResult.entity;
            lastColorize = pickResult.entity.colorize.slice();

            pickResult.entity.highlighted = false;
            pickResult.entity.colorize = [0.0, 0.6, 0.4,];
        }
    });

    viewer.cameraControl.on("pickedNothing", () => {
        if (lastEntity) {
            lastEntity.colorize = lastColorize;
            lastEntity = null;
        }
    });
	
	//------------------------------------------------------------------------------------------------------------------
    // INFO MODAL
    //------------------------------------------------------------------------------------------------------------------
	
     var modal = document.getElementById("myModal");
     var btn = document.getElementById("myBtn");
     var span = document.getElementsByClassName("close")[0];
     btn.onclick = function() {
     modal.style.display = "block";
     }

     span.onclick = function() {
     modal.style.display = "none";
     }

     window.onclick = function(event) {
     if (event.target == modal) {
     modal.style.display = "none";
     }
     }
	 
	 //------------------------------------------------------------------------------------------------------------------
    // Dat.GUI MENU
    //------------------------------------------------------------------------------------------------------------------

     const cameraControlParams = new function () {

        this.active = cameraControl.active;                    
        this.followPointer = cameraControl.followPointer;
        this.doublePickFlyTo = cameraControl.doublePickFlyTo;
        this.panRightClick = cameraControl.panRightClick;
     }();
	
	   const saoParams = new function () {

        this.kernelRadius = sao.kernelRadius;
        this.intensity = sao.intensity;
        this.bias = sao.bias;
        this.scale = sao.scale;
        this.minResolution = sao.minResolution;
        this.numSamples = sao.numSamples;
        this.blendFactor = sao.blendFactor;
        this.blendCutoff = sao.blendCutoff;
        this.blur = sao.blur;
        this.far = camera.perspective.far;
        this.fov = camera.perspective.fov;
     }();
	

     const update = () => {
	 

        sao.kernelRadius = saoParams.kernelRadius;
        sao.intensity = saoParams.intensity;
        sao.bias = saoParams.bias;
        sao.scale = saoParams.scale;
        sao.minResolution = saoParams.minResolution;
        sao.numSamples = saoParams.numSamples;
        sao.blendFactor = saoParams.blendFactor;
        sao.blendCutoff = saoParams.blendCutoff;
        sao.blur = saoParams.blur;
		
		cameraControl.active = cameraControlParams.active;
        cameraControl.followPointer = cameraControlParams.followPointer;
        cameraControl.doublePickFlyTo = cameraControlParams.doublePickFlyTo;
        cameraControl.panRightClick = cameraControlParams.panRightClick;

        requestAnimationFrame(update);
     };

     update();

     const gui = new dat.GUI({autoPlace: false, width: "100%"});
	
	 const saoFolder = gui.addFolder('Ambient Occlusion - SAO');

     saoFolder.add(saoParams, 'bias', -2, 2);
     saoFolder.add(saoParams, 'intensity', 0, 1.0);
     saoFolder.add(saoParams, 'scale', .05, 5);
     saoFolder.add(saoParams, 'kernelRadius', 1, 200);
     saoFolder.add(saoParams, 'minResolution', 0, 0.001);
     saoFolder.add(saoParams, 'numSamples', 4, 100);
     saoFolder.add(saoParams, 'blendFactor', 0, 2);
     saoFolder.add(saoParams, 'blendCutoff', 0, 2);
     saoFolder.add(saoParams, 'blur');
     saoFolder.open();
	
	

     const cameraControlFolder = gui.addFolder('Camera Control');
     cameraControlFolder.add(cameraControlParams, 'active');
     cameraControlFolder.add(cameraControlParams, 'followPointer');
     cameraControlFolder.add(cameraControlParams, 'doublePickFlyTo');
     cameraControlFolder.add(cameraControlParams, 'panRightClick');
     cameraControlFolder.open();
	 
     const customContainer = document.getElementById('myDatGuiContainer');
     customContainer.appendChild(gui.domElement);
	
	 //------------------------------------------------------------------------------------------------------------------
    // Isolate element
    //------------------------------------------------------------------------------------------------------------------
	
	
	 
	 document.getElementById("wall").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcWall"), false);            
     }

     document.getElementById("window").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcWindow"), false);            
     }

     document.getElementById("column").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcColumn"), false);             
     }

     document.getElementById("storey").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcBuildingStorey"), false);            
     }

     document.getElementById("beam").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcBeam"), false);            
     }

     document.getElementById("covering").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcCovering"), false);            
     }

     document.getElementById("door").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcDoor"), false);            
     }

     document.getElementById("footing").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcFooting"), false);            
     }

     document.getElementById("furnishing").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcFurnishingElement"), false);            
     }
	 
	 document.getElementById("roof").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcRoof"), false);            
     }
	 
	 document.getElementById("stair").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcStair"), false);     
     }
	 
	 document.getElementById("slab").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcSlab"), false);     
     }
	 
	 document.getElementById("element").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcBuildingElement"), false);     
     }
	 
	 document.getElementById("standardcase").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcWallStandardCase"), false);     
     }
	 
	 document.getElementById("member").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcMember"), false);     
     }
	 
	 document.getElementById("chimney").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcChimney"), false);     
     }
	 
	 document.getElementById("reinforcing").onclick = function () {
     scene.setObjectsVisible(scene.objectIds, true);
     scene.setObjectsXRayed(scene.objectIds, true);
     scene.setObjectsXRayed(viewer.metaScene.getObjectIDsByType("IfcReinforcingBar"), false);     
     }
	 
     document.getElementById("reset").onclick = function () {
     scene.setObjectsXRayed(scene.objectIds, false);
     }
	 
	 
	 //------------------------------------------------------------------------------------------------------------------
    // Annotations
    //------------------------------------------------------------------------------------------------------------------
	 
	 
	 	 	 const annotations = new AnnotationsPlugin(viewer, {

         markerHTML: "<div class='annotation-marker' style='background-color: {{markerBGColor}};'>{{glyph}}</div>",
         labelHTML: "<div class='annotation-label' style='background-color: {{labelBGColor}};'><div class='annotation-title'>{{title}}</div><div class='annotation-desc'>{{description}}</div></div>",

         values: {
            markerBGColor: "red",
            glyph: "X",
            title: "Untitled",
            description: "No description"
         },

         surfaceOffset: 0.1
         });

    var prevAnnotationClicked = null;

    annotations.on("markerClicked", (annotation) => {
        annotation.setLabelShown(!annotation.getLabelShown());
    }) 

			annotations.createAnnotation({

            id: "myAnnotation1",


            worldPos: [209.916, 28.8096, -806.91],
            occludable: true,
            markerShown: true,
            labelShown: false,
			
			labelHTML: "<div class='annotation-label' style='background-color: {{labelBGColor}};'>\
            <div class='annotation-title'>{{title}}</div>\
            <div class='annotation-desc'>{{description}}</div>\
                </div>",

             values: {
                glyph: "1",
                title: "Giacomo Boni Museum",
                description: "The still preserved remains are related to a series of structures  that began to be installed (from the end of II century A.D.) on the pavement of the Via Sacra leaning against the pillars of the long Porch of perhaps Nero's age (so-called Porticus Neroniana). This series of eight rooms of the II-IV century A.D. has been interpreted in literature as generic tabernae  or stationes exterarum civitatum. This last hypothesis is associated with the names of eastern Mediterranean cities on Greek inscriptions found nearby: the equivalent of medieval warehouses, set up for commercial purposes and / or for carrying out ritual activities.",
                markerBGColor: "white"
            }
		
			
        });

	
	    annotations.createAnnotation({

            id: "myAnnotation2",


            worldPos: [211.835, 28.2929, -804.275],

            occludable: true,
            markerShown: true,
            labelShown: false,
			
			labelHTML: "<div class='annotation-label' style='background-color: {{labelBGColor}};'>\
                <div class='annotation-title'>{{title}}</div>\
                <br><img alt='myImage' width='350' height='300' src='{{imageSrc}}'>\
                </div>",

            values: {
                glyph: "2",
                title: "Marble reuse element",
                markerBGColor: "white",
				imageSrc: "./assets/R1.png"
				 }
             });
			
			
			annotations.createAnnotation({

            id: "myAnnotation3",


            worldPos: [206.238, 27.1607, -798.299],

            occludable: true,
            markerShown: true,
            labelShown: false,
			
			labelHTML: "<div class='annotation-label' style='background-color: {{labelBGColor}};'>\
                <div class='annotation-title'>{{title}}</div>\
                <br><img alt='myImage' width='400' height='500' src='{{imageSrc}}'>\
                </div>",

            values: {
                glyph: "3",
                title: "South Internal Wall with the alcove",
                markerBGColor: "white",
				imageSrc: "./assets/q1.jpg"
            }
		
			
        });
	


     window.viewer = viewer;

</script>
</html>
